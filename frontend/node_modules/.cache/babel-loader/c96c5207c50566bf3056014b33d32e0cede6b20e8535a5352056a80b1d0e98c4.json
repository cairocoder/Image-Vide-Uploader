{"ast":null,"code":"var _jsxFileName = \"/Users/cairocoder/sites/assessment/frontend/src/components/FileList.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/FileList.js\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileList = ({\n  files,\n  setFiles\n}) => {\n  _s();\n  const {\n    token\n  } = React.useContext(AuthContext);\n  const handleShare = async fileId => {\n    try {\n      const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/files/share/${fileId}`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      navigator.clipboard.writeText(res.data.sharedLink);\n      alert(\"Shareable link copied to clipboard\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to generate share link\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Your Files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: files.map(file => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [file.fileType === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.REACT_APP_API_URL}/${file.filepath}`,\n          alt: file.filename,\n          width: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n          width: \"100\",\n          controls: true,\n          src: `${process.env.REACT_APP_API_URL}/${file.filepath}`,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: file.filename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleShare(file._id),\n          children: \"Share\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Views: \", file.viewCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this)]\n      }, file._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n};\n_s(FileList, \"cEWfwo+M5xs1Y4dCb3Fz43unteI=\");\n_c = FileList;\nexport default FileList;\nvar _c;\n$RefreshReg$(_c, \"FileList\");","map":{"version":3,"names":["React","axios","AuthContext","jsxDEV","_jsxDEV","FileList","files","setFiles","_s","token","useContext","handleShare","fileId","res","post","process","env","REACT_APP_API_URL","headers","Authorization","navigator","clipboard","writeText","data","sharedLink","alert","err","_err$response","_err$response$data","response","message","children","fileName","_jsxFileName","lineNumber","columnNumber","map","file","fileType","src","filepath","alt","filename","width","controls","onClick","_id","viewCount","_c","$RefreshReg$"],"sources":["/Users/cairocoder/sites/assessment/frontend/src/components/FileList.js"],"sourcesContent":["// frontend/src/components/FileList.js\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst FileList = ({ files, setFiles }) => {\n    const { token } = React.useContext(AuthContext);\n\n    const handleShare = async (fileId) => {\n        try {\n            const res = await axios.post(\n                `${process.env.REACT_APP_API_URL}/api/files/share/${fileId}`,\n                {},\n                {\n                    headers: { Authorization: `Bearer ${token}` },\n                }\n            );\n            navigator.clipboard.writeText(res.data.sharedLink);\n            alert(\"Shareable link copied to clipboard\");\n        } catch (err) {\n            alert(\n                err.response?.data?.message || \"Failed to generate share link\"\n            );\n        }\n    };\n\n    return (\n        <div>\n            <h3>Your Files</h3>\n            <ul>\n                {files.map((file) => (\n                    <li key={file._id}>\n                        {file.fileType === \"image\" ? (\n                            <img\n                                src={`${process.env.REACT_APP_API_URL}/${file.filepath}`}\n                                alt={file.filename}\n                                width=\"100\"\n                            />\n                        ) : (\n                            <video\n                                width=\"100\"\n                                controls\n                                src={`${process.env.REACT_APP_API_URL}/${file.filepath}`}\n                            >\n                                Your browser does not support the video tag.\n                            </video>\n                        )}\n                        <p>{file.filename}</p>\n                        <button onClick={() => handleShare(file._id)}>\n                            Share\n                        </button>\n                        <p>Views: {file.viewCount}</p>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default FileList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}