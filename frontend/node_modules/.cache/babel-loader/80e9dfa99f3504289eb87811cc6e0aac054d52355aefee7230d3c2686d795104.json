{"ast":null,"code":"var _jsxFileName = \"/Users/cairocoder/sites/assessment/frontend/src/components/FileUpload.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/FileUpload.js\n\nimport React, { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileUpload = ({\n  onUpload\n}) => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [tags, setTags] = useState(\"\");\n  const {\n    token\n  } = useContext(AuthContext);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!file) {\n      alert(\"Please select a file\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"tags\", tags);\n    try {\n      const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/files/upload`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n      onUpload(res.data.file);\n      setFile(null);\n      setTags(\"\");\n      alert(\"File uploaded successfully\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Upload failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: e => setFile(e.target.files[0]),\n      accept: \"image/*,video/*\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Tags (comma separated)\",\n      value: tags,\n      onChange: e => setTags(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(FileUpload, \"SVxer3Uw6Gw93uTzL8mtV3qQKLc=\");\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useState","useContext","axios","AuthContext","jsxDEV","_jsxDEV","FileUpload","onUpload","_s","file","setFile","tags","setTags","token","handleSubmit","e","preventDefault","alert","formData","FormData","append","res","post","process","env","REACT_APP_API_URL","headers","Authorization","data","err","_err$response","_err$response$data","response","message","onSubmit","children","type","onChange","target","files","accept","required","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","_c","$RefreshReg$"],"sources":["/Users/cairocoder/sites/assessment/frontend/src/components/FileUpload.js"],"sourcesContent":["// frontend/src/components/FileUpload.js\n\nimport React, { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst FileUpload = ({ onUpload }) => {\n    const [file, setFile] = useState(null);\n    const [tags, setTags] = useState(\"\");\n    const { token } = useContext(AuthContext);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!file) {\n            alert(\"Please select a file\");\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append(\"file\", file);\n        formData.append(\"tags\", tags);\n\n        try {\n            const res = await axios.post(\n                `${process.env.REACT_APP_API_URL}/api/files/upload`,\n                formData,\n                {\n                    headers: {\n                        \"Content-Type\": \"multipart/form-data\",\n                        Authorization: `Bearer ${token}`,\n                    },\n                }\n            );\n            onUpload(res.data.file);\n            setFile(null);\n            setTags(\"\");\n            alert(\"File uploaded successfully\");\n        } catch (err) {\n            alert(err.response?.data?.message || \"Upload failed\");\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <input\n                type=\"file\"\n                onChange={(e) => setFile(e.target.files[0])}\n                accept=\"image/*,video/*\"\n                required\n            />\n            <input\n                type=\"text\"\n                placeholder=\"Tags (comma separated)\"\n                value={tags}\n                onChange={(e) => setTags(e.target.value)}\n            />\n            <button type=\"submit\">Upload</button>\n        </form>\n    );\n};\n\nexport default FileUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}